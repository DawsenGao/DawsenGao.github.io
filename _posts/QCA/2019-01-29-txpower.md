---
layout: post
title: 发射功率
description: 发射功率
category: QCA
---
# 发射功率
2.4G和5G高通qsdk代码中走不同的分支，2.4G是attach，5G是offload

## 一、2.4G分支对txpower限制有三个条件

### 1. txpower limit
这个是限制最大的txpower，驱动中默认2.4G和5G都是63，这个值默认单位是0.5dbm
```shell
//获取TxPowLim
zteadmin@WE2622:~# iwpriv wifi0 getTxPowLim2G
wifi0     getTxPowLim2G:63 
zteadmin@WE2622:~# iwpriv wifi1 getTxPowLim5G
wifi1     getTxPowLim5G:63 
//设置TxPowLim
iwpriv wifi0 TXPowLim2G xx
iwpriv wifi1 TXPowLim5G xx
```
### 2. 国家信道的限制      
2.4G  在ath_hal_init_channels函数中根据不同的国家，不同的无线模式，会有不同表，里面有对最大power的限制。
例如：当HAL_MODE_11B模式选择regDmn2GhzFreq，当HAL_MODE_11G HAL_MODE_11NG_HT20，HAL_MODE_11NG_HT40PLUS，HAL_MODE_11NG_HT40MINUS选择regDmn2Ghz11gFreq，当选定后，后面会去取数组的某一组的第三个参数，来赋值给max_reg_tx_power 也就是icv.max_reg_tx_power = fband->powerDfs;

  fband->powerDfs值如何得到？

总结一下如何快速找到国家对应的powerDfs限定值。

（1）先根据设定的国家在ahCmnAllCountries数组中找到对应了，如中国找到CTRY_CHINA这一组参数，

（2）根据第二个值也就是FCC2_WORLD，FCC2_WORLD代表的就是是这个国家支持FCC2和WORLD频率表，

（3）找到ahCmnRegDomains数组中定义的参数，知道channel/band 选择，找到类似G4_2412_2472定义，搜索后，可以找到regDmn2Ghz11gFreq数组或其他数组中对应powerDfs值定义。

  每个国家都对应一个const REG_DMN_FREQ_BAND *fband，当国家确定后，这个表的内容也就相应的确定了。
```c
/*其中countryCode==CTRY_CHINA和regDmnEnum==FCC2_WORLD是我们需要关注的！，FCC2_WORLD代表的就是是这个国家支持FCC2和WORLD频率表，定义在ahCmnRegDomains*/
static const COUNTRY_CODE_TO_ENUM_RD ahCmnAllCountries[] = {
     {CTRY_CHINA,       FCC2_WORLD,    "CN", "CHINA",          YES, YES, YES, YES, YES, YES, YES, YES, YES, YES, 7000 },
}

/*REG_DOMAIN定义*/
typedef struct reg_domain {
    u_int16_t regDmnEnum;    /* value from EnumRd table */
    u_int8_t conformance_test_limit;
    u_int64_t dfsMask;    /* DFS bitmask for 5Ghz tables */
    u_int64_t pscan;    /* Bitmask for passive scan */
    u_int32_t flags;    /* Requirement flags (AdHoc disallow, noise
                   floor cal needed, etc) */
#ifndef ATH_NO_5G_SUPPORT
    u_int64_t chan11a[BMLEN];/* 128 bit bitmask for channel/band selection */
    u_int64_t chan11a_turbo[BMLEN];/* 128 bit bitmask for channel/band select */
    u_int64_t chan11a_dyn_turbo[BMLEN]; /* 128 bit mask for chan/band select */
#endif /* ATH_NO_5G_SUPPORT */

    u_int64_t chan11b[BMLEN];/* 128 bit bitmask for channel/band selection */
    u_int64_t chan11g[BMLEN];/* 128 bit bitmask for channel/band selection */

#ifndef ATH_REMOVE_2G_TURBO_RD_TABLE
    u_int64_t chan11g_turbo[BMLEN];/* 128 bit bitmask for channel/band select */
#endif /* ATH_REMOVE_2G_TURBO_RD_TABLE */
} REG_DOMAIN;

/*中国对应的RegDomains， 2.4G根据F4_2412_2472和G4_2412_2472可以找到powerDfs对应的值*/
static const REG_DOMAIN ahCmnRegDomains[] = {
    {FCC2, FCC, DFS_FCC3, PSCAN_FCC | PSCAN_FCC_T, NO_REQ,
	 BM(F6_5180_5240, F5_5260_5320, F6_5745_5825, -1, -1, -1, -1, -1, -1, -1, -1, -1),
	 BM(T7_5210_5210, T3_5250_5290, T2_5760_5800, -1, -1, -1, -1, -1, -1, -1, -1, -1),
	 BM(T7_5200_5200, T1_5240_5240, T2_5280_5280, T1_5765_5805, -1, -1, -1, -1, -1, -1, -1, -1),
	 BMZERO,
	 BMZERO,
	 CHAN_TURBO_G_BMZERO
     },
    
    {WORLD, ETSI, NO_DFS, NO_PSCAN, NO_REQ,
     CHAN_11A_BMZERO
     CHAN_11A_BMZERO
     CHAN_11A_BMZERO
     BM(F4_2412_2472,-1,-1,-1,-1,-1,-1,-1, -1, -1, -1, -1), //对应chan11b[BMLEN];
     BM(G4_2412_2472,-1,-1,-1,-1,-1,-1,-1, -1, -1, -1, -1), //对应chan11g[BMLEN];
     CHAN_TURBO_G_BM(T2_2437_2437,-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1)
     },
}

/*中国对应的regDmn2Ghz11gFreq*/
static const REG_DMN_FREQ_BAND regDmn2Ghz11gFreq[] = {
......
    { 2412, 2472, 20, 0, 20, 5, NO_DFS, PSCAN_MKKA, 0},	/* F4_2412_2472 */
	{ 2412, 2472, 20, 0, 20, 5,  NO_DFS, PSCAN_MKKA_G | PSCAN_MKKA2 | PSCAN_MKKA | PSCAN_EXT_CHAN, 0},	/* G4_2412_2472 */
......
};

.......

/*
 * By default, the regdomain tables reference the common tables
 * from ah_regdomain_common.h.  These default tables can be replaced
 * by calls to populate_regdomain_tables functions.
 */
HAL_REG_DMN_TABLES Rdt = {
    ahCmnRegDomainPairs,    /* regDomainPairs */
    AH_NULL,                /* regDmnVendorPairs */
    ahCmnAllCountries,      /* allCountries */
    AH_NULL,                /* customMappings */
    ahCmnRegDomains,        /* regDomains */

    N(ahCmnRegDomainPairs),    /* regDomainPairsCt */
    0,                         /* regDmnVendorPairsCt */
    N(ahCmnAllCountries),      /* allCountriesCt */
    0,                         /* customMappingsCt */
    N(ahCmnRegDomains),        /* regDomainsCt */
};
/*根据国家查找对应的信息，赋值到rd，这个函数主要是遍历Rdt.regDomainsCt，找到regDmnEnum与国家对应的值，然后将数组中REG_DOMAIN赋值到rd中，也就是Rdt.regDomains[i]参数，i就是遍历到第几个符合*/
    found = isValidRegDmn(reg_dmn, rd);
........
    
/*根据模式选择默认表*/
REG_DOMAIN *rd=AH_NULL
case HAL_MODE_11G:
case HAL_MODE_11NG_HT20:
case HAL_MODE_11NG_HT40PLUS:
case HAL_MODE_11NG_HT40MINUS:
            rd = &rd2GHz;
            channelBM = rd->chan11g;
            freqs = &regDmn2Ghz11gFreq[0];
            ctl = rd->conformance_test_limit | CTL_11G;
            break;
........
/*根据channelBM掩码找到对应的freqs，然后赋值给fband*/
      for (b=0;b<64*BMLEN; b++) {
            if (IS_BIT_SET(b,channelBM)) {
                fband = &freqs[b];
........
/*找到国家对应的fband，获取powerDfs参数，赋值给max_reg_tx_power*/
icv.max_reg_tx_power = fband->powerDfs;
```
### 3. target power与ctl power限制
2.4G在ar9300_set_tx_power_limit函数中调用ar9300_eeprom_set_transmit_power函数为给定的信道和模式设置基带的发射功率
```c
	//ath_hal_get_twice_max_regpower(ahpriv, ichan, chan)这个参数是国家信道允许的最大power值
	//AH_MIN(MAX_RATE_POWER, ahpriv->ah_power_limit)是power limit限制
	//ahp->ah_eeprom是ctl相关限制
	*/
    if (ar9300_eeprom_set_transmit_power(ah, &ahp->ah_eeprom, ichan,
        ath_hal_getctl(ah, chan), ath_hal_getantennaallowed(ah, chan),
        ath_hal_get_twice_max_regpower(ahpriv, ichan, chan),
        AH_MIN(MAX_RATE_POWER, ahpriv->ah_power_limit)) != HAL_OK)
    {
        return false;
    }
```
ar9300_eeprom_set_transmit_power函数中主要功能：    
（1）获取eeprom中的数据存入target power表中      
（2）根据前面的txpower limit和国家信道限制的txpower判断比较，取出最小的txpower值     
（3）iwconfig获取的txpower值更改，由于功率与速率有关，因此请使用AR9300_Rates枚举中的一个索引从target_power_val_t2 []中选择要报告的条目。目前返回HT40 MCS 0，HT20 MCS 0或OFDM 6 Mbps的功率      
（4）根据txchain和天线增益调整更新txpower。      
（5）处理每个包的TPC：       
一个单独的power表包含不同的MIMO模式（TXBF ON，STBC），是为了在包发送期间容易找到。
为每个chain维护这些表的原因是根据功率是否受target power，the regulatory domain  或 CTL limits的限制，用于不同数量的链的发射功率是不同的。    
（6）将发射功率写入相关寄存器          

## 二、5G分支对txpower限制
5G的发射功率限制与2.4G基本一致
### 1. 前面提到的TXPowLim5G限制        
### 2. 国家信道的限制      
    主要在ol_regdmn_init_channels函数中实现根据不同的国家，不同的无线模式，会有不同表，如regDmn5GhzFreq，在ol_regdomain_common.h中有相关的定义，及赋值。这部分限制实现在ol_regdomain.c中populate_icv函数中icv->ic_maxregpower = fband->powerDfs;其中powerDfs值则是限制的txpower，将限定的txpower最大值传入 icv->ic_maxregpower中。后面通过ic_maxregpower值设置。

ic_maxregpower值会通过WMI接口传入target firmware中。在wmi_unified_vdev_create_start_cmd函数

```c
    WMI_SET_CHANNEL_MIN_POWER(&cmd->chan, chan->ic_minpower);
    WMI_SET_CHANNEL_MAX_POWER(&cmd->chan, chan->ic_maxpower);
    WMI_SET_CHANNEL_REG_POWER(&cmd->chan, chan->ic_maxregpower);
    WMI_SET_CHANNEL_REG_CLASSID(&cmd->chan, chan->ic_regClassId);
    WMI_SET_CHANNEL_ANTENNA_MAX(&cmd->chan, chan->ic_antennamax);
```

regDmn5GhzFreq定义：

```c
static const REG_DMN_FREQ_BAND regDmn5GhzFreq[] = {
.....
	{ 5260, 5320, 23, 6, 20, 20, DFS_FCC3 | DFS_ETSI, PSCAN_FCC, 2 },/* F5_5260_5320 */
.....
	{ 5180, 5240, 23, 6, 20, 20, NO_DFS, PSCAN_FCC, 1 },/* F6_5180_5240 */
.....
	{ 5745, 5825, 30, 6, 20, 20, NO_DFS, NO_PSCAN, 5 },	/* F6_5745_5825 */
.....
}
```
### 3. boarddata中对txpower的限制    

   当我们设置txpower参数后，会通过WMI接口传递参数。由于TARGET FIRMWARE代码的封闭，只能追到WMI接口部分。    

   ```c
   retval = wmi_unified_pdev_set_param(scn->wmi_handle,
                   WMI_PDEV_PARAM_TXPOWER_LIMIT5G, limit);
   ```

   如果想要修改5G的txpower值，需要改动boarddata文件

## 三、功率显示

### 1. 无线2.4G功率显示
通过iwconfig，iwlist，iwinfo命令都可以查到当前VAP的Tx-Power值。
```shell
（1）zteadmin@WE2622:~# iwconfig ath0
ath0      IEEE 802.11ng  ESSID:"we2622-0"  
          Mode:Master  Frequency:2.437 GHz  Access Point: 00:11:22:33:44:55   
          Bit Rate:300 Mb/s   Tx-Power=20 dBm   
          RTS thr=2346 B   Fragment thr:off
          Encryption key:off
          Power Management:off
          Link Quality=0/94  Signal level=-95 dBm  Noise level=-95 dBm
          Rx invalid nwid:5659  Rx invalid crypt:0  Rx invalid frag:0
          Tx excessive retries:0  Invalid misc:0   Missed beacon:0
          
（2）zteadmin@WE2622:~# iwlist ath0 txpower
ath0      8 available transmit-powers :
          0 dBm         (1 mW)
          8 dBm         (6 mW)
          10 dBm        (10 mW)
          12 dBm        (15 mW)
          14 dBm        (25 mW)
          16 dBm        (39 mW)
          18 dBm        (63 mW)
          20 dBm        (100 mW)
          Current Tx-Power=20 dBm       (100 mW)

（3）iwinfo命令需要编译，目前qsdk中主要在libiwinfo中提供相关lua接口给页面使用

```
上面查找的Tx-Power值如何得来的？这里分析iwconfig命令查找的Tx-Power值是如何得到的。   
### 2. iwconfig命令显示的Tx-Power值如何得到
2.1 wireless_tools.29/iwconfig.c通过ioctl获取发射功率
```c
  if((info->has_range) && (info->range.we_version_compiled > 9))
    {
      /* Get Transmit Power */
      if(iw_get_ext(skfd, ifname, SIOCGIWTXPOW, &wrq) >= 0)//发送SIOCGIWTXPOW到驱动中获取信息
        {
          info->has_txpower = 1;
          memcpy(&(info->txpower), &(wrq.u.txpower), sizeof(iwparam));
        }
    }
```
2.2 qca-wifi-10.4中对SIOCGIWTXPOW cmd的实现     
2.2.1 ioctl命令实现
```c
//SIOCGIWTXPOW注册的回调函数
 (iw_handler) ieee80211_ioctl_giwtxpow,      /* SIOCGIWTXPOW */
 
 static int
ieee80211_ioctl_giwtxpow(struct net_device *dev,
    struct iw_request_info *info,
    struct iw_param *rrq, char *extra)
{
    osif_dev *osifp = ath_netdev_priv(dev);
    wlan_if_t vap = osifp->os_if;
    int txpow, fixed;
    debug_print_ioctl(dev->name, SIOCGIWTXPOW, "giwtxpow") ;
    ieee80211_ucfg_get_txpow(vap, &txpow, &fixed);//获取txpow
    rrq->value = txpow;//将获取的值返回
    rrq->fixed = fixed;
    rrq->disabled = (rrq->fixed && rrq->value == 0);
    rrq->flags = IW_TXPOW_DBM;
    return 0;
}
```
2.2.2 通过ieee80211_ucfg_get_txpow函数获取txpow，实际的值为vap->iv_bss->ni_txpower/2
```c
int ieee80211_ucfg_get_txpow(wlan_if_t vaphandle, int *txpow, int *fixed)
{
    struct ieee80211vap *vap = vaphandle;
    struct ieee80211com *ic = vap->iv_ic;

    *txpow = (vap->iv_bss) ? (vap->iv_bss->ni_txpower/2) : 0;
    *fixed = (ic->ic_flags & IEEE80211_F_TXPOW_FIXED) != 0;
    return 0;
}
```
2.2.3 vap->iv_bss->ni_txpower值怎么得到？    
 vap->iv_bss->ni_txpower实际值就是ni->ni_txpower的值，当我们设置新的功率后，驱动中会更新ni->ni_txpower的值。

## 四、功率设置
通常我们使用iwconfig athx txpower xx命令来设置功率值
1. wireless_tools.29/iwconfig.c 设置txpower:
```c
  { "txpower",          set_txpower_info,       1,      SIOCSIWTXPOW,
        "Set Tx Power",                 "{NmW|NdBm|off|auto}" },   
```
2. 根据cmd SIOCSIWTXPOW 驱动中对应的执行函数为
```c
(iw_handler) ieee80211_ioctl_siwtxpow,      /* SIOCSIWTXPOW */
```
3. 在ieee80211_ioctl_siwtxpow中，根据传入的参数，如果合法将调用下面函数来设置txpower

```c
 retv = ieee80211_ucfg_set_txpow(vap, rrq->value);
```
4. 在ieee80211_ucfg_set_txpow函数中，通过回调函数来设置
   txpow以dBm为单位，而我们以0.5dBm为单位存储，所以传入的值都乘以2

```c
 ic->ic_set_txPowerLimit(ic, 2*txpow, 2*txpow, is2GHz);
```
5. ic->ic_set_txPowerLimit对于 2.4G和5G分别使用不同的设置函数 

```c
//2.4G
 ic->ic_set_txPowerLimit = ath_setTxPowerLimit;
//5G
 ic->ic_set_txPowerLimit = ol_ath_setTxPowerLimit;
```
6. 对于2.4G，ath_setTxPowerLimit函数会调用 scn->sc_ops->ath_set_txPwrLimit(scn->sc_dev, limit, tpcInDb, is2GHz);通过ath_set_txPwrLimit回调函数设置txpower。对于5G，则ol_ath_setTxPowerLimit函数调用WMI接口设置相应的参数。

```c
//2.4G
/**
     * callback to set TX power limit. This routine makes the actual HAL calls to set the new transmit power
     *  limit.  This also calls back into the protocol layer setting the max
     *  transmit power limit.
     * @param dev : handle to LMAC device
     * @param limit : the TX power limit to set
     * @param tpcInDb : transmit power control (DB)
     * @param is2GHz : whether this call is for 2G or 5G
     * @return 0 on success; -EINVAL for the limit exceeding maximum TX power 
     * limit for the specified band
     */
    int         (*ath_set_txPwrLimit)(ath_dev_t dev, u_int32_t limit, u_int16_t tpcInDb, u_int32_t is2GHz);

//5G
retval = wmi_unified_pdev_set_param(scn->wmi_handle,
                WMI_PDEV_PARAM_TXPOWER_LIMIT5G, limit);
```
7. ath_set_txPwrLimit回调函数实现为ath_setTxPwrLimit，在函数中会调用ath_update_txpow(sc, tpcInDb);函数来更新txpower

```c
//2.4G
    ath_setTxPwrLimit,          /* ath_set_txPwrLimit */

```
8.  ath_update_txpow函数设置发射功率到HAL层
```c
ath_hal_settxpowlimit
```
9. 调用HAL层ar9300_set_tx_power_limit来设置总的输出功率限制        

```c
#define ath_hal_settxpowlimit(_ah, _pow, _extra_txpow, _tpcInDb) \
    ((*(_ah)->ah_set_tx_power_limit)((_ah), (_pow), (_extra_txpow), (_tpcInDb)))
//设置总输出功率的限制。 用于动态发射功率控制
ar9300_set_tx_power_limit,         /* ah_set_tx_power_limit */  
     
```
10. 调用ar9300_eeprom_set_transmit_power设置txpower
```c
//ath_hal_get_twice_max_regpower(ahpriv, ichan, chan)这个参数是target power允许的最大power值
	//AH_MIN(MAX_RATE_POWER, ahpriv->ah_power_limit)是power limit限制
	//ahp->ah_eeprom是ctl相关限制
    if (ar9300_eeprom_set_transmit_power(ah, &ahp->ah_eeprom, ichan,
        ath_hal_getctl(ah, chan), ath_hal_getantennaallowed(ah, chan),
        ath_hal_get_twice_max_regpower(ahpriv, ichan, chan),
        AH_MIN(MAX_RATE_POWER, ahpriv->ah_power_limit)) != HAL_OK)
    {
        return false;
    }
```

11. iwconfig获取的txpower值，由于功率与速率有关，因此请使用AR9300_Rates枚举中的一个索引从target_power_val_t2 []中选择要报告的条目。目前返回HT40 MCS 0，HT20 MCS 0或OFDM 6 Mbps的功率 ,然后在这个值的基础上根据txchain和天线增益调整最终的power值，得到最终iwconfig显示获取的txpower值，AH_PRIVATE(ah)->ah_max_power_level。

## 五、组合功率
**组合功率是指一台AP中多路射频的发射功率聚合，是AP天线的输入功率，并非经过天线增益后的实际发射功率.**

图1-1理想点源和实际天线的覆盖比较

![组合功率](./images/2019-01-29-txpower/组合功率.png)

早期的AP只有一路射频，没有组合功率的概念。随着Wi-Fi技术的发展，802.11n开始支持MIMO技术，AP可以使用多路射频同时进行无线信号的收发，每路射频都有自己的发射功率，对于整台AP来说，其发射功率就是各路射频发射功率的合集。

组合功率用于评估AP的信号发射能力，直接影响AP的发射信号强度。AP的发射功率越大，相同位置的信号强度越大，其覆盖范围和穿墙能力也就越强。

实际发射功率使用有效全向辐射功率EIRP（Effective Isotropic Radiated Power）来评估，其计算公式为**EIRP = P** **– Loss + G**。

- 射频的发射功率，是天线的输入功率，每路射频的发射功率之和，即组合功率，单位dBm。          

  **例如一台3*3 MIMO的AP，有3路射频，假设单路射频的发射功率是20dBm，放大3倍约为5dB，则组合功率是20 + 5 = 25dBm**。         

- Loss：连接天线的转接头和馈线等线路损耗，单位dB。

- G：天线增益，单位dBi或dBd。

例如组合功率是25dBm，线路损耗是1dB，天线增益是3dBi，则**EIRP = 25** **– 1 + 3 = 27dBm**。

**dBm和dB是什么?**          

dBm的含义是分贝毫瓦，通俗的说就是每1毫瓦产生多少分贝能量。dB是个相对值是增益的意思，X (dBm) - Y (dBm) = Z (dB)，如10dB=20dBm-10dBm。

dBm和毫瓦的换算关系是：P(dBm)=10logP(mW)，也就是100mW=10Log102=20dBm。

**mW与dBm换算规律: **         

功率减少10倍，换算出来的dBm降低10dB。功率减少一半，换算出来的dBm降低3dB。如：100mW= 20dBm, 50mW=17dBm，25mW=14dBm，5mW=7dBm。	

**组合功率是固定的，那么天线的增益无限大，其发射功率就可以无限大吗？**

天线是一种无源器件，根据能量守恒定律，无论天线的增益有多大，也无论使用多少根天线，总的发射功率并不会发生改变。

将AP看做一个理想点源时，向各个方向均匀发射信号，在空间上覆盖呈现为一个圆球体。而实际的天线具备方向性，信号经过天线后，在空间上可以理解为在一些方向延展，在一些方向收缩，但总的体积不会变化。所以天线并没有增加信号的能量，只是更改了信号的覆盖。天线的方向图可以展示信号的能量分布

图1-2理想点源和实际天线的覆盖比较

![理想点源和实际天线的覆盖比较](./images/2019-01-29-txpower/理想点源和实际天线的覆盖比较.png)



## 六、iwconfig显示功率与仪表测试功率

**iwconfig命令显示的是组合功率，实际使用仪表测试的是单路射频的发射功率**

在这里以2.4G为例进行说明：    
txchainmask指的是AP射频接口发送空间流。     
**txchainmask 1: 1x1: 3: 2X2; 7: 3X3**

```shell
//WE2622设备
zteadmin@WE2622:~# iwpriv wifi0 get_txchainmask
wifi0     get_txchainmask:3  
//W625C设备
zteadmin@W625C:~# iwpriv wifi0 get_txchainmask
wifi0     get_txchainmask:7
```
软件指定预期目标Tx功率。不同的MCS值可能具有不同的目标功率，由软件控制。iwconfig命令显示的txpower是 HT40 MCS 0, HT20 MCS 0, 或 OFDM 6 Mbps对应的功率值与多个tx chains补偿功率之和。    
不同的tx chains补偿功率不同，在驱动中是硬编码方式，如果是1x1补偿功率为0,2x2补偿功率为3dBm,3x3补偿功率为5dBm。

假设AP设备为2x2设备，iwconfig显示功率值为20dBm，则实际测出单路射频的发射功率为17dBm。

假设AP设备为3x3设备，iwconfig显示功率值为20dBm，则实际测出单路射频的发射功率为15dBm。

## 七、CTRY_CHINA对应功率限制
**CTRY_CHINA对应的2G 11b、11g、11n的频点、功率限制：**

|         | Low channel center(MHz) | High Channel center(MHz) | 功率限制(dBm) |
| ------- | ----------------------- | ------------------------ | ------------- |
| 11b     | 2412                    | 2472                     | 20            |
| 11g/11n | 2412                    | 2472                     | 20            |

**CTRY_CHINA对应的5G 11a、11an、11ac的频点、功率限制：**

|               | Low channel center(MHz) | High Channel center(MHz) | 功率限制(dBm) |
| ------------- | ----------------------- | ------------------------ | ------------- |
| 11a/11an/11ac | 5180                    | 5240                     | 23            |
| 11a/11an/11ac | 5260                    | 5320                     | 23            |
| 11a/11an/11ac | 5745                    | 5825                     | 30            |


